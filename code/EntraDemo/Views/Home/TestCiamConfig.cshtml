@{
    ViewData["Title"] = "CIAM Configuration Test";
}

<h2>CIAM Configuration Test</h2>

<div class="card">
    <div class="card-body">
        <h5 class="card-title">OpenID Connect Configuration Test</h5>
        
        @if (ViewBag.Error != null)
        {
            <div class="alert alert-danger">
                <strong>Error:</strong> @ViewBag.Error
            </div>
        }
        else
        {
            <p><strong>Configuration URL:</strong> <code>@ViewBag.ConfigUrl</code></p>
            <p><strong>Status Code:</strong> @ViewBag.StatusCode</p>
            <p><strong>Success:</strong> @ViewBag.IsSuccess</p>
            
            @if (ViewBag.IsSuccess == true)
            {
                <div class="alert alert-success">
                    <strong>? CIAM configuration is accessible!</strong>
                </div>
                
                <h6>Configuration Response:</h6>
                <pre class="bg-light p-3" style="max-height: 400px; overflow-y: auto;">@ViewBag.Content</pre>
            }
            else
            {
                <div class="alert alert-danger">
                    <strong>? CIAM configuration is not accessible!</strong>
                </div>
                
                <h6>Response Content:</h6>
                <pre class="bg-light p-3">@ViewBag.Content</pre>
            }
        }
        
        <div class="mt-3">
            <a asp-controller="Home" asp-action="Index" class="btn btn-primary">Back to Home</a>
        </div>
    </div>
</div>